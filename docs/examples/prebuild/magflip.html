<!DOCTYPE html>
<html>
<head>
    <title>Magzog</title>
    <link rel="stylesheet" type="text/css" href="magzog.css">
    <script src="https://cdn.jsdelivr.net/npm/@magflip/minjs@0.5.13/magflip.min.js"></script>
    <script>
    <!--
    var bookManager;
    var bookViewer;
    document.addEventListener('DOMContentLoaded', function () {
      const pages = [
        {
            id: "page0",
            index: 0,
            image: './resources/book1/page0.jpg'
        },
        {
            id: "page1",
            index: 1,
            image: './resources/book1/page1.jpg'
        },
        {
            id: "page2",
            index: 2,
            image: './resources/book1/page2.jpg'
        },
        {
            id: "page3",
            index: 3,
            image: './resources/book1/page3.jpg'
        },
        {
            id: "page4",
            index: 4,
            image: './resources/book1/page4.jpg'
        },
        {
            id: "page5",
            index: 5,
            image: './resources/book1/page5.jpg'
        },
        {
            id: "page6",
            index: 6,
            image: './resources/book1/page6.jpg'
        },
        {
            id: "page7",
            index: 7,
            image: './resources/book1/page7.jpg'
        }
      ];

      const book = new Book({ 
        id: 'mybook1', 
        lastPageIndex: 7,
        thumbnails: {
          spine: pages[0].image,
          small: pages[0].image,
          medium: pages[0].image,
          cover: {
            front: pages[0].image,
            back: pages[0].image,
          }
        }
      })

      book.importPages(pages, { width: 790, height: 1024 });
      bookManager = new BookShelfManager();
      bookViewer = bookManager.getBookViewer();
      const view = new FlipView();
      bookViewer.registerView(new FlipView());
      bookViewer.setCurView(view.id)
      // bookManager.loadAndAddBooks();
      bookManager.importBookToShelf(book);

      window.bookManager = bookManager;
      window.bookViewer = bookViewer;
    });

    window.onload = function () {
      console.log('All resources including images are loaded');
    };
    -->
  </script>
</head>

<body>
</body>
</html>